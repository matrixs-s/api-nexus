"use strict";var $=Object.create;var T=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var j=Object.getOwnPropertyNames;var q=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty;var O=(o,e,r)=>e in o?T(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r;var D=(o,e)=>{for(var r in e)T(o,r,{get:e[r],enumerable:!0})},C=(o,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of j(e))!L.call(o,t)&&t!==r&&T(o,t,{get:()=>e[t],enumerable:!(n=F(e,t))||n.enumerable});return o};var H=(o,e,r)=>(r=o!=null?$(q(o)):{},C(e||!o||!o.__esModule?T(r,"default",{value:o,enumerable:!0}):r,o)),U=o=>C(T({},"__esModule",{value:!0}),o);var N=(o,e,r)=>(O(o,typeof e!="symbol"?e+"":e,r),r);var W={};D(W,{HelpersModule:()=>V,SimpleHelpersModule:()=>P});module.exports=U(W);var f=require("../../errors/faker-error"),G=require("../../internal/bind-this-to-member-functions"),E=require("../../internal/deprecated"),v=require("./luhn-check"),z=H(require("./unique"));function I(o,e,r,n){let t=1;if(e)switch(e){case"?":{t=o.datatype.boolean()?0:1;break}case"*":{let i=1;for(;o.datatype.boolean();)i*=2;t=o.number.int({min:0,max:i});break}case"+":{let i=1;for(;o.datatype.boolean();)i*=2;t=o.number.int({min:1,max:i});break}default:throw new f.FakerError("Unknown quantifier symbol provided.")}else r!=null&&n!=null?t=o.number.int({min:parseInt(r),max:parseInt(n)}):r!=null&&n==null&&(t=parseInt(r));return t}function K(o,e=""){const r=/(.)\{(\d+),(\d+)\}/,n=/(.)\{(\d+)\}/,t=/\[(\d+)-(\d+)\]/;let i,a,s,m,l=r.exec(e);for(;l!=null;)i=parseInt(l[2]),a=parseInt(l[3]),i>a&&(s=a,a=i,i=s),m=o.number.int({min:i,max:a}),e=e.slice(0,l.index)+l[1].repeat(m)+e.slice(l.index+l[0].length),l=r.exec(e);for(l=n.exec(e);l!=null;)m=parseInt(l[2]),e=e.slice(0,l.index)+l[1].repeat(m)+e.slice(l.index+l[0].length),l=n.exec(e);for(l=t.exec(e);l!=null;)i=parseInt(l[1]),a=parseInt(l[2]),i>a&&(s=a,a=i,i=s),e=e.slice(0,l.index)+o.number.int({min:i,max:a}).toString()+e.slice(l.index+l[0].length),l=t.exec(e);return e}class P{constructor(e){this.faker=e;N(this,"uniqueStore",{});(0,G.bindThisToMemberFunctions)(this)}slugify(e=""){return e.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/ /g,"-").replace(/[^\w.-]+/g,"")}replaceSymbolWithNumber(e="",r="#"){let n="";for(let t=0;t<e.length;t++)e.charAt(t)===r?n+=this.faker.number.int(9):e.charAt(t)==="!"?n+=this.faker.number.int({min:2,max:9}):n+=e.charAt(t);return n}replaceSymbols(e=""){const r=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];let n="";for(let t=0;t<e.length;t++)e.charAt(t)==="#"?n+=this.faker.number.int(9):e.charAt(t)==="?"?n+=this.arrayElement(r):e.charAt(t)==="*"?n+=this.faker.datatype.boolean()?this.arrayElement(r):this.faker.number.int(9):n+=e.charAt(t);return n}replaceCreditCardSymbols(e="6453-####-####-####-###L",r="#"){e=K(this.faker,e),e=this.replaceSymbolWithNumber(e,r);const n=(0,v.luhnCheckValue)(e);return e.replace("L",String(n))}regexpStyleStringParse(e=""){return(0,E.deprecated)({deprecated:"faker.helpers.regexpStyleStringParse",proposed:"faker.helpers.fromRegExp",since:"8.1",until:"9.0"}),K(this.faker,e)}fromRegExp(e){var p,y;let r=!1;e instanceof RegExp&&(r=e.flags.includes("i"),e=e.toString(),e=(y=(p=e.match(/\/(.+?)\//))==null?void 0:p[1])!=null?y:"");let n,t,i;const a=/([.A-Za-z0-9])(?:\{(\d+)(?:,(\d+)|)\}|(\?|\*|\+))(?![^[]*]|[^{]*})/;let s=e.match(a);for(;s!=null;){const b=s[2],k=s[3],x=s[4];i=I(this.faker,x,b,k),e=e.slice(0,s.index)+s[1].repeat(i)+e.slice(s.index+s[0].length),s=e.match(a)}const m=/(\d-\d|\w-\w|\d|\w|[-!@#$&()`.+,/"])/,l=/\[(\^|)(-|)(.+?)\](?:\{(\d+)(?:,(\d+)|)\}|(\?|\*|\+)|)/;for(s=e.match(l);s!=null;){const b=s[1]==="^",k=s[2]==="-",x=s[4],R=s[5],_=s[6],c=[];let A=s[3],g=A.match(m);for(k&&c.push(45);g!=null;){if(!g[0].includes("-"))r&&isNaN(Number(g[0]))?c.push(g[0].toUpperCase().charCodeAt(0),g[0].toLowerCase().charCodeAt(0)):c.push(g[0].charCodeAt(0));else{const h=g[0].split("-").map(u=>u.charCodeAt(0));if(n=h[0],t=h[1],n>t)throw new f.FakerError("Character range provided is out of order.");for(let u=n;u<=t;u++)if(r&&isNaN(Number(String.fromCharCode(u)))){const S=String.fromCharCode(u);c.push(S.toUpperCase().charCodeAt(0),S.toLowerCase().charCodeAt(0))}else c.push(u)}A=A.substring(g[0].length),g=A.match(m)}if(i=I(this.faker,_,x,R),b){let h=-1;for(let u=48;u<=57;u++){if(h=c.indexOf(u),h>-1){c.splice(h,1);continue}c.push(u)}for(let u=65;u<=90;u++){if(h=c.indexOf(u),h>-1){c.splice(h,1);continue}c.push(u)}for(let u=97;u<=122;u++){if(h=c.indexOf(u),h>-1){c.splice(h,1);continue}c.push(u)}}const M=this.multiple(()=>String.fromCharCode(this.arrayElement(c)),{count:i}).join("");e=e.slice(0,s.index)+M+e.slice(s.index+s[0].length),s=e.match(l)}const w=/(.)\{(\d+),(\d+)\}/;for(s=e.match(w);s!=null;){if(n=parseInt(s[2]),t=parseInt(s[3]),n>t)throw new f.FakerError("Numbers out of order in {} quantifier.");i=this.faker.number.int({min:n,max:t}),e=e.slice(0,s.index)+s[1].repeat(i)+e.slice(s.index+s[0].length),s=e.match(w)}const d=/(.)\{(\d+)\}/;for(s=e.match(d);s!=null;)i=parseInt(s[2]),e=e.slice(0,s.index)+s[1].repeat(i)+e.slice(s.index+s[0].length),s=e.match(d);return e}shuffle(e,r={}){const{inplace:n=!1}=r;n||(e=[...e]);for(let t=e.length-1;t>0;--t){const i=this.faker.number.int(t);[e[t],e[i]]=[e[i],e[t]]}return e}uniqueArray(e,r){if(Array.isArray(e)){const t=new Set(e),i=Array.from(t);return this.shuffle(i).splice(0,r)}const n=new Set;try{if(typeof e=="function"){const t=1e3*r;let i=0;for(;n.size<r&&i<t;)n.add(e()),i++}}catch{}return Array.from(n)}mustache(e,r){if(e==null)return"";for(const n in r){const t=new RegExp(`{{${n}}}`,"g");let i=r[n];typeof i=="string"&&(i=i.replace(/\$/g,"$$$$")),e=e.replace(t,i)}return e}maybe(e,r={}){if(this.faker.datatype.boolean(r))return e()}objectKey(e){const r=Object.keys(e);return this.arrayElement(r)}objectValue(e){const r=this.faker.helpers.objectKey(e);return e[r]}objectEntry(e){const r=this.faker.helpers.objectKey(e);return[r,e[r]]}arrayElement(e){if(e==null)throw new f.FakerError("Calling `faker.helpers.arrayElement()` without arguments is no longer supported.");if(e.length===0)throw new f.FakerError("Cannot get value from empty dataset.");const r=e.length>1?this.faker.number.int({max:e.length-1}):0;return e[r]}weightedArrayElement(e){if(e.length===0)throw new f.FakerError("weightedArrayElement expects an array with at least one element");if(!e.every(i=>i.weight>0))throw new f.FakerError("weightedArrayElement expects an array of { weight, value } objects where weight is a positive number");const r=e.reduce((i,{weight:a})=>i+a,0),n=this.faker.number.float({min:0,max:r,precision:1e-9});let t=0;for(const{weight:i,value:a}of e)if(t+=i,n<t)return a;return e[e.length-1].value}arrayElements(e,r){if(e==null)throw new f.FakerError("Calling `faker.helpers.arrayElements()` without arguments is no longer supported.");if(e.length===0)return[];const n=this.rangeToNumber(r!=null?r:{min:1,max:e.length});if(n>=e.length)return this.shuffle(e);if(n<=0)return[];const t=e.slice(0);let i=e.length;const a=i-n;let s,m;for(;i-- >a;)m=this.faker.number.int(i),s=t[m],t[m]=t[i],t[i]=s;return t.slice(a)}enumValue(e){const r=Object.keys(e).filter(t=>isNaN(Number(t))),n=this.arrayElement(r);return e[n]}rangeToNumber(e){return typeof e=="number"?e:this.faker.number.int(e)}unique(e,r=[],n={}){(0,E.deprecated)({deprecated:"faker.helpers.unique",proposed:"https://github.com/faker-js/faker/issues/1785#issuecomment-1407773744",since:"8.0",until:"9.0"});const{maxTime:t=50,maxRetries:i=50,exclude:a=[],store:s=this.uniqueStore}=n;return z.exec(e,r,{...n,startTime:Date.now(),maxTime:t,maxRetries:i,currentIterations:0,exclude:a,store:s})}multiple(e,r={}){var t;const n=this.rangeToNumber((t=r.count)!=null?t:3);return n<=0?[]:Array.from({length:n},e)}}class V extends P{constructor(r){super(r);this.faker=r}fake(r){r=typeof r=="string"?r:this.arrayElement(r);const n=r.search(/{{[a-z]/),t=r.indexOf("}}",n);if(n===-1||t===-1)return r;let a=r.substring(n+2,t+2).replace("}}","").replace("{{","");const s=/\(([^)]*)\)/,m=s.exec(a);let l="";m&&(a=a.replace(s,""),l=m[1]);const w=a.split(".");let d=this.faker,p=this.faker.rawDefinitions;for(const R of w)d=d==null?void 0:d[R],p=p==null?void 0:p[R];let y;if(typeof d=="function")y=d;else if(Array.isArray(p))y=()=>this.faker.helpers.arrayElement(p);else throw new f.FakerError(`Invalid module method or definition: ${a}
- faker.${a} is not a function
- faker.definitions.${a} is not an array`);y=y.bind(this);let b;try{b=JSON.parse(`[${l}]`)}catch{b=[l]}const k=String(y(...b)),x=r.substring(0,n)+k+r.substring(t+2);return this.fake(x)}}0&&(module.exports={HelpersModule,SimpleHelpersModule});
